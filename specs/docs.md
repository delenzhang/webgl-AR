角色设定:
你是一位精通 Three.js、WebGL和计算机视觉的创意前端开发专家。任务目标:
使用 Vite 作为开发服务器和构建工具，编写一个基于 TypeScript 的前端应用。该应用需要结合Three.js和MediaPipe
Hands 来创建一个"御剑术"风格的手势控制 3D 场景：由 shader 生成的主剑（能量/流光材质）+ 大量"剑"形粒子（各种不同造型/长度/材质的剑）组成的剑阵。具体要求:
*整体氛围:主色系为哑光绿+金属金+圣诞红色（可用于能量纹理/光晕点缀）；整体有电影感的辉光、光晕、体积感（轻雾/泛光）与高对比灯光。
*视觉核心:
  - 主剑: 必须由 WebGL shader（自定义材质）生成视觉效果（例如能量流动、边缘发光、噪声扰动、脉冲光带、剑身纹理滚动），并可随状态变化产生形变/亮度变化。
  - 剑阵粒子: 粒子不是点，而是“剑”的实例（instancing），包含多种剑型轮廓/护手形态/长度比例；可用低面数几何体+shader/贴图模拟金属与能量边缘光。
*交互逻辑（状态机）:
  - 收剑态（聚合）: 剑阵围绕主剑收拢/归位，整体更稳定、密集，能量更内敛。
  - 放剑态（散开）: 剑阵像被“御剑”放出，形成环绕/螺旋/阵列轨道，速度与能量更外放。
  - 御剑强化态（专注/蓄力）: 主剑能量提升（亮度、脉冲频率、尾焰长度），剑阵响应更强（轨道更紧或更具攻击性）。
*手势动作映射（基于 MediaPipe Hands 的关键点/手势识别）:
  - 握拳 = 收剑（进入收剑态）
  - 五指张开 = 放剑（进入放剑态）
  - 手掌旋转/手腕旋转 = 旋转视角/镜头（或旋转剑阵整体）
  - 捏合/抓取（拇指+食指 pinch 或抓握）= 进入御剑强化态（蓄力/强化），松开则退出
*交互要求:
  - 状态之间必须平滑切换（动画过渡、缓动、插值），避免突变；手势抖动需做稳定化（阈值+时间窗口+滞回）。
  - 交互反馈明确：状态切换时有可见的能量反馈（光晕扩大/收缩、粒子速度变化、音效可选）。
  - 允许单手操作，优先稳定与"御剑术手感"。
  - 使用 GSAP 处理前端常用轨迹动画（UI 过渡、状态切换动画、缓动曲线等）。
*摄像头与渲染层级:
  - 获取用户摄像头权限，视频流全屏显示（作为背景层）。
  - Three.js 场景渲染在摄像头画面前端（透明背景或后期合成），确保御剑术粒子与主剑覆盖在视频之上。
  - 渲染层需适配不同屏幕比例，保证视频与 3D 画面不变形或裁剪合理。
  - 摄像头画面需实时处理以支持 MediaPipe Hands 手势识别。
技术备忘:
可能用到的技术栈: 
  - 构建工具: Vite（开发服务器、热更新、TypeScript 支持）
  - 语言: TypeScript（类型安全、更好的开发体验）
  - 3D 渲染: Three.js、WebGL（ShaderMaterial/RawShaderMaterial、InstancedMesh、后期处理 Bloom/Glow）
  - 手势识别: MediaPipe Hands
  - 动画库: GSAP（用于轨迹动画、缓动、状态过渡）